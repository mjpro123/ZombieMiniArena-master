{"version":3,"sources":["models/ECollisionManager.js","../src/ts/models/ECollisionManager.ts"],"names":["Object","defineProperty","exports","value","ECollisionManager","Action_1","require","Utils_1","itemsmanager_1","ObjectType_1","EntityType_1","Biomes_1","ItemIds_1","bufferReader_1","PacketType_1","player","spikeInfo","ticks","spikeHurt","lastGsTicks","ticksInSpike","lastSpikeHurt","constructor","playerOwn","this","isInside","insideTimestamp","inFireHurt","inThornbushHurt","inLavaHurt","updateCollides","now","performance","buildingManager","emeraldMachineId","gameProfile","score","isInBridge","isInWorkbench","isInIsland","isInBed","isInRoof","isInSea","isInWater","isInFire","isInSand","isInRiver","queryEntities","gameServer","queryManager","queryCircle","x","y","radius","spikedEntities","fireEntities","thornbushEntities","Utils","biomeIn","Biomes","SEA","stateManager","extra","ItemIds","BOAT","isFly","isCollides","i","length","e","isMapObject","type","ObjectType","ISLAND","isCirclesCollides","RIVER","isBuilding","isSolid","EntityType","BRIDGE","BED","ROOF","THORNBUSH_SEED","ownerClass","metaData","collideResolveRadius","playerId","id","totemFactory","isContains","data","push","WORKBENCH","metaType","ItemMetaType","SPIKED_DOOR","SPIKED_WALL","FIRE","STORAGE","FURNACE","writer","BufferWriter","writeUInt8","ServerPacketTypeBinary","Fire","controller","sendBinary","toBuffer","isWorkbench","Workbench","Water","isInLava","damage","d","nearest","getNearest","entity","receiveHit","collideDamage","gaugesManager","warm","cold","update","spike","ghost","ISF","health","action","Action","HURT","updateHealth","px","py","BABY_DRAGON","BABY_LAVA","PLANE","HAWK"],"mappings":"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","file":"ECollisionManager.js","sourceRoot":"../"}