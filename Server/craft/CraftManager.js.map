{"version":3,"sources":["craft/CraftManager.js","../src/ts/craft/CraftManager.ts"],"names":["Object","defineProperty","exports","value","Craft","CraftManager","ItemIds_1","require","PacketType_1","bufferReader_1","CraftTranslator_1","player","toCraft","toRecycle","elapsed","craftTime","recycleTime","constructor","this","isCrafting","isRecycling","update","performance","now","itemId","ItemIds","itemName","toUpperCase","inventory","addItem","itemAmount","gameProfile","score","bonus","cancelCraft","recipes","recipe","i","length","item","count","Math","max","handleRecycle","containsItem","stateManager","isWorkbench","craftId","findCraftByItemId","craftBound","gameServer","crafts","find","c","findCraftIdFromItem","removeItem","updateEquipment","writer","BufferWriter","writeUInt8","ServerPacketTypeBinary","RecycleOk","controller","sendBinary","toBuffer","time","CancelCraft","handleCraft","water","isInSea","workbench","fire","isInFire","list","recipeData","push","items","size","maxSize","every","e","Buffer","from","InventoryIsFull","craftResponse","CraftOk","right","BOOK","hat","extra","isFly","HAND","updateInfo","well","craftData","amount","getItem","iName","serializeRecipe","newRecipeD","toObject"],"mappings":"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","file":"CraftManager.js","sourceRoot":"../"}